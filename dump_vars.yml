---
- name: dump_vars
  hosts: all
  gather_facts: false
  become: false

  tasks:
    - name: dump foo1
      ansible.builtin.debug:
        var: foo1

    - name: dump foo2
      ansible.builtin.debug:
        var: foo2

    - name: dump foo3
      ansible.builtin.debug:
        var: foo3

    - name: dump foo4
      ansible.builtin.debug:
        var: foo4

    - name: dump vars
      ansible.builtin.debug:
        var: vars

    - name: debug vars
      ansible.builtin.pause:
        seconds: 0
        prompt: |
          foo1: {{ foo1 }}
          foo2: {{ foo2 }}
          foo3: {{ foo3 }}
          foo4: {{ foo4 }}

    - name: fail if we don't have vars set
      ansible.builtin.fail:
        msg: Some vars not found
      when: (foo1 is not defined) or (foo2 is not defined) or (foo3 is not defined) or (foo4 is not defined)
